{% import 'common.jinja' as common %}
(function () {
    'use strict';

    angular
        .module('{{data[0].object.name}}')
        .factory('{{data[0].object.name | title}}Factory', {{data[0].object.name | title}}Factory);

    {{data[0].object.name | title}}Factory.$inject = ['ApiService'];

    function {{data[0].object.name | title}}Factory(ApiService) {

        var service = this;
        var relativeUrl = "{{data[0].object.name}}";

        function getAll() {
            return ApiService.getAll(relativeUrl);
        }

        function getById(id) {
            return ApiService.getById(relativeUrl, id);
        }

        function create(single_{{data[0].object.name}}) {
            return ApiService.create(relativeUrl, single_{{data[0].object.name}}, usingle_{{data[0].object.name}}._id);
        }

        function update(single_{{data[0].object.name}}) {
            return ApiService.update(relativeUrl, single_{{data[0].object.name}}, single_{{data[0].object.name}}._id);
        }

        function remove(id) {
            return ApiService.remove(relativeUrl, id);
        }

        return {
            getAll: getAll,
            getById: getById,
            create: create,
            update: update,
            remove: remove
        };
    }
})();